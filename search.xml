<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[DATE命令]]></title>
    <url>%2Flinux%2Flinux-shell-date%2F</url>
    <content type="text"><![CDATA[很多shell脚本里面需要打印不同格式的时间或日期，以及要根据时间和日期执行操作。延时通常用于脚本执行过程中提供一段等待的时间。日期可以以多种格式去打印，也可以使用命令设置固定的格式。在类UNIX系统中，日期被存储为一个整数，其大小为自世界标准时间（UTC）1970年1月1日0时0分0秒起流逝的秒数。 参数说明12345-d&lt;字符串&gt;：显示字符串所指的日期与时间。字符串前后必须加上双引号；-s&lt;字符串&gt;：根据字符串来设置日期与时间。字符串前后必须加上双引号；-u：显示GMT；--help：在线帮助；--version：显示版本信息。 格式列表1234567891011121314151617181920212223242526272829%n : 下一行%t : 跳格%H : 小时(00..23)%I : 小时(01..12)%k : 小时(0..23)%l : 小时(1..12)%M : 分钟(00..59)%p : 显示本地 AM 或 PM%r : 直接显示时间 (12 小时制，格式为 hh:mm:ss [AP]M)%s : 从 1970 年 1 月 1 日 00:00:00 UTC 到目前为止的秒数%S : 秒(00..61)%T : 直接显示时间 (24 小时制)%X : 相当于 %H:%M:%S%Z : 显示时区 %a : 星期几 (Sun..Sat)%A : 星期几 (Sunday..Saturday)%b : 月份 (Jan..Dec)%B : 月份 (January..December)%c : 直接显示日期与时间%d : 日 (01..31)%D : 直接显示日期 (mm/dd/yy)%h : 同 %b%j : 一年中的第几天 (001..366)%m : 月份 (01..12)%U : 一年中的第几周 (00..53) (以 Sunday 为一周的第一天的情形)%w : 一周中的第几天 (0..6)%W : 一年中的第几周 (00..53) (以 Monday 为一周的第一天的情形)%x : 直接显示日期 (mm/dd/yy)%y : 年份的最后两位数字 (00.99)%Y : 完整年份 (0000..9999) 示例设置时间1234567date -s //设置当前时间，只有root权限才能设置，其他只能查看。date -s 20080523 //设置成20080523，这样会把具体时间设置成空00:00:00date -s 01:01:01 //设置具体时间，不会对日期做更改date -s “01:01:01 2008-05-23″ //这样可以设置全部时间date -s “01:01:01 20080523″ //这样可以设置全部时间date -s “2008-05-23 01:01:01″ //这样可以设置全部时间date -s “20080523 01:01:01″ //这样可以设置全部时间 时间加减1234567date +%Y%m%d //显示现在天年月日date +%Y%m%d --date="+1 day" //显示后一天的日期date +%Y%m%d --date="-1 day" //显示前一天的日期date +%Y%m%d --date="-1 month" //显示上一月的日期date +%Y%m%d --date="+1 month" //显示下一月的日期date +%Y%m%d --date="-1 year" //显示前一年的日期date +%Y%m%d --date="+1 year" //显示下一年的日期]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
        <tag>date</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hwclock命令]]></title>
    <url>%2Flinux%2Flinux-shell-hwclock%2F</url>
    <content type="text"><![CDATA[hwclock命令是一个硬件时钟访问工具，它可以显示当前时间、设置硬件时钟的时间和设置硬件时钟为系统时间，也可设置系统时间为硬件时钟的时间。 在Linux中有硬件时钟与系统时钟等两种时钟。硬件时钟是指主机板上的时钟设备，也就是通常可在BIOS画面设定的时钟。系统时钟则是指kernel中的时钟。当Linux启动时，系统时钟会去读取硬件时钟的设定，之后系统时钟即独立运作。所有Linux相关指令与函数都是读取系统时钟的设定。 参数说明12345678910--adjust：hwclock每次更改硬件时钟时，都会记录在/etc/adjtime文件中。使用--adjust参数，可使hwclock根据先前的记录来估算硬件时钟的偏差，并用来校正目前的硬件时钟；--debug：显示hwclock执行时详细的信息；--directisa：hwclock预设从/dev/rtc设备来存取硬件时钟。若无法存取时，可用此参数直接以I/O指令来存取硬件时钟；--hctosys：将系统时钟调整为与目前的硬件时钟一致；--set --date=&lt;日期与时间&gt;：设定硬件时钟；--show：显示硬件时钟的时间与日期；--systohc：将硬件时钟调整为与目前的系统时钟一致；--test：仅测试程序，而不会实际更改硬件时钟；--utc：若要使用格林威治时间，请加入此参数，hwclock会执行转换的工作；--version：显示版本信息。 示例设置硬件时间要依赖于操作系统时间12$ hwclock –systohc$ hwclock --systohc –-utc 查看当前的硬件日期和时间1$ hwclock 设置硬件时间1$ hwclock -w 查看clock文件，确认是否设置了UTC12$ cat /etc/default/rcS UTC=yes]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
        <tag>hwclock</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vsftpd安装]]></title>
    <url>%2Flinux%2Flinux-software-vsftpd%2F</url>
    <content type="text"><![CDATA[准备工作 linux系统centos7 vsftpd软件 yum安装 执行步骤安装vsftpd服务器 1$ yum install vsftpd 安装一个加密工具 1$ yum install libdb-utils.x86_64 修改配置VSFTP 1$ vi /etc/vsftpd/vsftpd.conf 配置文件参数说明 anonymous_enable=NO #设定不允许匿名访问 local_enable=YES #设定本地用户可以访问。注：如使用虚拟宿主用户，在该项目设定为NO的情况下所有虚拟用户将无法访问。 chroot_list_enable=YES #使用户不能离开主目录 ascii_upload_enable=YES #允许使用ASCII模式上传 ascii_download_enable=YES #设定支持ASCII模式的上传和下载功能。 pam_service_name=vsftpd #PAM认证文件名。PAM将根据/etc/pam.d/vsftpd进行认证 guest_enable=YES #设定启用虚拟用户功能。 guest_username=ftp #指定虚拟用户的宿主用户。-RHEL/CentOS中已经有内置的ftp用户了 user_config_dir=/etc/vsftpd/vuser_conf #设定虚拟用户个人vsftp的RHEL/CentOS FTP服务文件存放路 径。 listen=YES # 只监听ipv4的地址 xferlog_file=/var/log/xferlog # 日志文件的路径 listen_port=1315 #FTP端口 pasv_enable=YES #开启被动模式 pasv_min_port=10060 pasv_max_port=10070 创建chroot list，将ftp用户加入其中 12$ touch /etc/vsftpd/chroot_list$ echo ftp &gt;&gt; /etc/vsftpd/chroot_list 安装Berkeley DB工具 1$ yum install db4 db4-utils 创建用户密码文本 1$ touch /etc/vsftpd/vuser_passwd.txt 生成虚拟用户认证的db文件 12$ db_load -T -t hash -f /etc/vsftpd/vuser_passwd.txt /etc/vsftpd/vuser_passwd.db$ chmod 600 /etc/vsftpd/vuser_passwd.db 编辑认证文件 1$ vi /etc/pam.d/vsftpd 把前面的注释去掉，然后加上以下几条 系统为32位： auth required pam_userdb.so db=/etc/vsftpd/vuser_passwd account required pam_userdb.so db=/etc/vsftpd/vuser_passwd 系统为64位：auth required /lib64/security/pam_userdb.sodb=/etc/vsftpd/vuser_passwd account required/lib64/security/pam_userdb.so db=/etc/vsftpd/vuser_passwd 修改VSFTPD端口 执行vi /etc/services，将其中的 ftp 21/tcp 改为 ftp 1315/tcp , ftp21/udp改为 ftp 1315/udp 重启动vsftp服务 1$ service vsftpd restart]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>software</tag>
        <tag>vsftpd</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GREP命令]]></title>
    <url>%2Flinux%2Flinux-shell-grep%2F</url>
    <content type="text"><![CDATA[grep（global search regular expression(RE) and print out the line，全面搜索正则表达式并把行打印出来）是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。 参数说明12345678910111213141516171819202122232425-a 不要忽略二进制数据。-A&lt;显示列数&gt; 除了显示符合范本样式的那一行之外，并显示该行之后的内容。-b 在显示符合范本样式的那一行之外，并显示该行之前的内容。-c 计算符合范本样式的列数。-C&lt;显示列数&gt;或-&lt;显示列数&gt; 除了显示符合范本样式的那一列之外，并显示该列之前后的内容。-d&lt;进行动作&gt; 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep命令将回报信息并停止动作。-e&lt;范本样式&gt; 指定字符串作为查找文件内容的范本样式。-E 将范本样式为延伸的普通表示法来使用，意味着使用能使用扩展正则表达式。-f&lt;范本文件&gt; 指定范本文件，其内容有一个或多个范本样式，让grep查找符合范本条件的文件内容，格式为每一列的范本样式。-F 将范本样式视为固定字符串的列表。-G 将范本样式视为普通的表示法来使用。-h 在显示符合范本样式的那一列之前，不标示该列所属的文件名称。-H 在显示符合范本样式的那一列之前，标示该列的文件名称。-i 忽略字符大小写的差别。-l 列出文件内容符合指定的范本样式的文件名称。-L 列出文件内容不符合指定的范本样式的文件名称。-n 在显示符合范本样式的那一列之前，标示出该列的编号。-q 不显示任何信息。-R/-r 此参数的效果和指定“-d recurse”参数相同。-s 不显示错误信息。-v 反转查找。-w 只显示全字符合的列。-x 只显示全列符合的列。-y 此参数效果跟“-i”相同。-o 只输出文件中匹配到的部分。 示例 在文件中搜索一个单词，命令会返回一个包含“match_pattern”的文本行： 12$ grep match_pattern file_name$ grep "match_pattern" file_name 在多个文件中查找 1$ grep "match_pattern" file_1 file_2 file_3 ... 输出除之外的所有行 -v 选项 1$ grep -v "match_pattern" file_name 标记匹配颜色 –color=auto 选项 1$ grep "match_pattern" file_name --color=auto 使用正则表达式 -E 选项 12$ grep -E "[1-9]+"$ egrep "[1-9]+" 只输出文件中匹配到的部分 -o 选项 12$ echo this is a test line. | grep -o -E "[a-z]+\."$ echo this is a test line. | egrep -o "[a-z]+\." 统计文件或者文本中包含匹配字符串的行数 -c 选项 1$ grep -c "text" file_name 输出包含匹配字符串的行数 -n 选项 123456$ grep "text" -n file_name或$ cat file_name | grep "text" -n#多个文件$ grep "text" -n file_1 file_2 打印样式匹配所位于的字符或字节偏移 1234$ echo gun is not unix | grep -b -o "not"7:not#一行中字符串的字符便宜是从该行的第一个字符开始计算，起始值为0。选项 -b -o 一般总是配合使用。 搜索多个文件并查找匹配文本在哪些文件中 1$ grep -l "text" file1 file2 file3... 在多级目录中对文本进行递归搜索 12$ grep "text" . -r -n# .表示当前目录。 忽略匹配样式中的字符大小写 1$ echo "hello world" | grep -i "HELLO" 选项 -e 制动多个匹配样式 12345$ echo this is a text line | grep -e "is" -e "line" -o#也可以使用-f选项来匹配多个样式，在样式文件中逐行写出需要匹配的字符。$ echo aaa bbb ccc ddd eee | grep -f patfile -o 在grep搜索结果中包括或者排除指定文件 12345678#只在目录中所有的.php和.html文件中递归搜索字符"main()"$ grep "main()" . -r --include *.&#123;php,html&#125;#在搜索结果中排除所有README文件$ grep "main()" . -r --exclude "README"#在搜索结果中排除filelist文件列表里的文件$ grep "main()" . -r --exclude-from filelist 使用0值字节后缀的grep与xargs 12345678#测试文件：$ echo "aaa" &gt; file1$ echo "bbb" &gt; file2$ echo "aaa" &gt; file3$ grep "aaa" file* -lZ | xargs -0 rm#执行后会删除file1和file3，grep输出用-Z选项来指定以0值字节作为终结符文件名（\0），xargs -0 读取输入并用0值字节终结符分隔文件名，然后删除匹配文件，-Z通常和-l结合使用。 grep静默输出 123$ grep -q "test" filename#不会输出任何信息，如果命令运行成功返回0，失败则返回非0值。一般用于条件测试。 打印出匹配文本之前或者之后的行 1234567891011#显示匹配某个结果之后的3行，使用 -A 选项：$ seq 10 | grep "5" -A 3#显示匹配某个结果之前的3行，使用 -B 选项：$ seq 10 | grep "5" -B 3#显示匹配某个结果的前三行和后三行，使用 -C 选项：$ seq 10 | grep "5" -C 3#如果匹配结果有多个，会用“--”作为各匹配结果之间的分隔符：$ echo -e "a\nb\nc\na\nb\nc" | grep a -A 1]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
        <tag>grep</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux设置全路径显示]]></title>
    <url>%2Flinux%2Flinux-config-setallpath%2F</url>
    <content type="text"><![CDATA[在Linux中，编辑vi /etc/bashrc文件，搜索PS1=&quot;[\u@\h \W]，将大写的W改为w 修改前： 修改后: 效果显示:]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DF命令]]></title>
    <url>%2Flinux%2Flinux-shell-df%2F</url>
    <content type="text"><![CDATA[df命令用于显示磁盘分区上的可使用的磁盘空间。默认显示单位为KB。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。 参数说明12345678910111213141516-a或--all：包含全部的文件系统；--block-size=&lt;区块大小&gt;：以指定的区块大小来显示区块数目；-h或--human-readable：以可读性较高的方式来显示信息；-H或--si：与-h参数相同，但在计算时是以1000 Bytes为换算单位而非1024 Bytes；-i或--inodes：显示inode的信息；-k或--kilobytes：指定区块大小为1024字节；-l或--local：仅显示本地端的文件系统；-m或--megabytes：指定区块大小为1048576字节；--no-sync：在取得磁盘使用信息前，不要执行sync指令，此为预设值；-P或--portability：使用POSIX的输出格式；--sync：在取得磁盘使用信息前，先执行sync指令；-t&lt;文件系统类型&gt;或--type=&lt;文件系统类型&gt;：仅显示指定文件系统类型的磁盘信息；-T或--print-type：显示文件系统的类型；-x&lt;文件系统类型&gt;或--exclude-type=&lt;文件系统类型&gt;：不要显示指定文件系统类型的磁盘信息；--help：显示帮助；--version：显示版本信息。 示例查看系统磁盘设备，默认是KB为单位1$ df 结果显示： 字段说明：Filesystem: 文件系统1K-blocks: 1K-块Used: 已用Available: 可用Use%: 已用%Mounted on: 挂载点 使用-h选项以KB以上的单位来显示，可读性高1$ df -h 结果显示：]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
        <tag>df</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Route命令]]></title>
    <url>%2Flinux%2Flinux-shell-route%2F</url>
    <content type="text"><![CDATA[route命令用来显示并设置Linux内核中的网络路由表，route命令设置的路由主要是静态路由。要实现两个不同的子网之间的通信，需要一台连接两个网络的路由器，或者同时位于两个网络的网关来实现。 在Linux系统中设置路由通常是为了解决以下问题：该Linux系统在一个局域网中，局域网中有一个网关，能够让机器访问Internet，那么就需要将这台机器的ip地址设置为Linux机器的默认路由。要注意的是，直接在命令行下执行route命令来添加路由，不会永久保存，当网卡重启或者机器重启之后，该路由就失效了；可以在/etc/rc.local中添加route命令来保证该路由设置永久有效。 参数说明1234567-A：设置地址类型；-C：打印将Linux核心的路由缓存；-v：详细信息模式；-n：不执行DNS反向查找，直接显示数字形式的IP地址；-e：netstat格式显示路由表；-net：到一个网络的路由表；-host：到一个主机的路由表。 示例显示当前路由1$ route -n 结果显示： 字段说明： U Up表示此路由当前为启动状态。H Host，表示此网关为一主机。G Gateway，表示此网关为一路由器。R Reinstate Route，使用动态路由重新初始化的路由。D Dynamically,此路由是动态性地写入。M Modified，此路由是由路由守护程序或导向器动态修改。! 表示此路由当前为关闭状态。 添加网关/设置网关1$ route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0 屏蔽一条路由1$ route add -net 224.0.0.0 netmask 240.0.0.0 reject 删除路由记录12$ route del -net 224.0.0.0 netmask 240.0.0.0$ route del -net 224.0.0.0 netmask 240.0.0.0 reject 删除和添加设置默认网关12$ route del default gw 192.168.120.240$ route add default gw 192.168.120.240]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
        <tag>route</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tail命令]]></title>
    <url>%2Flinux%2Flinux-shell-tail%2F</url>
    <content type="text"><![CDATA[tail命令用于输入文件中的尾部内容。tail命令默认在屏幕上显示指定文件的末尾10行。如果给定的文件不止一个，则在显示的每个文件前面加一个文件名标题。如果没有指定文件或者文件名为“-”，则读取标准输入。 注意：如果表示字节或行数的N值之前有一个”+”号，则从文件开头的第N项开始显示，而不是显示文件的最后N项。N值后面可以有后缀：b表示512，k表示1024，m表示1 048576(1M)。 参数说明1234567891011--retry：即是在tail命令启动时，文件不可访问或者文件稍后变得不可访问，都始终尝试打开文件。使用此选项时需要与选项“——follow=name”连用；-c&lt;N&gt;或——bytes=&lt;N&gt;：输出文件尾部的N（N为整数）个字节内容；-f&lt;name/descriptor&gt;或；--follow&lt;nameldescript&gt;：显示文件最新追加的内容。“name”表示以文件名的方式监视文件的变化。“-f”与“-fdescriptor”等效；-F：与选项“-follow=name”和“--retry"连用时功能相同；-n&lt;N&gt;或——line=&lt;N&gt;：输出文件的尾部N（N位数字）行内容。--pid=&lt;进程号&gt;：与“-f”选项连用，当指定的进程号的进程终止后，自动退出tail命令；-q或——quiet或——silent：当有多个文件参数时，不输出各个文件名；-s&lt;秒数&gt;或——sleep-interal=&lt;秒数&gt;：与“-f”选项连用，指定监视文件变化时间隔的秒数；-v或——verbose：当有多个文件参数时，总是输出各个文件名；--help：显示指令的帮助信息；--version：显示指令的版本信息。 示例显示文件末尾内容1$ tail -n 5 log2014.log 循环查看文件内容1$ tail -f test.log 从第5行开始显示文件1$ tail -n +5 log2014.log]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
        <tag>tail</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LN命令]]></title>
    <url>%2Flinux%2Flinux-shell-ln%2F</url>
    <content type="text"><![CDATA[ln命令用来为文件创件连接，连接类型分为硬连接和符号连接两种，默认的连接类型是硬连接。如果要创建符号连接必须使用-s选项。 注意：符号链接文件不是一个独立的文件，它的许多属性依赖于源文件，所以给符号链接文件设置存取权限是没有意义的。 参数说明1234567891011-b: 删除，覆盖以前建立的链接-d: 允许超级用户制作目录的硬链接-f: 强制执行-i: 交互模式，文件存在则提示用户是否覆盖-n: 把符号链接视为一般目录-s: 软链接(符号链接)-v: 显示详细的处理过程-S: “-S&lt;字尾备份字符串&gt; ”或 “--suffix=&lt;字尾备份字符串&gt;”-V: “-V&lt;备份方式&gt;”或“--version-control=&lt;备份方式&gt;”--help: 显示帮助信息--version: 显示版本信息 示例建立一个符号链接 在目录/usr/liu下建立一个符号链接文件abc，使它指向目录/usr/mengqc/mub1 1$ ln -s /usr/mengqc/mub1 /usr/liu/abc 删除一个符号链接 将目录/usr/liu/下的abc链接删除，注意不是rm -rf symbolic_name/ 12$ cd /usr/liu/$ rm -rf symbolic_name]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
        <tag>ln</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTP响应头和请求头信息对照表]]></title>
    <url>%2Fhttp%2Fhttp-header%2F</url>
    <content type="text"><![CDATA[HTTP请求头提供了关于请求，响应或者其他的发送实体的信息。HTTP的头信息包括通用头、请求头、响应头和实体头四个部分。每个头域由一个域名，冒号（:）和域值三部分组成。 通用头标：即可用于请求，也可用于响应，是作为一个整体而不是特定资源与事务相关联。 请求头标：允许客户端传递关于自身的信息和希望的响应形式。 响应头标：服务器和于传递自身信息的响应。 实体头标：定义被传送资源的信息。即可用于请求，也可用于响应。 根据以上分类的HTTP请求头介绍可以参考此文，本工具根据请求和输出分为Request和Response两部分。 HTTP Request Header Header 解释 示例 Accept 指定客户端能够接收的内容类型 Accept: text/html Accept-Charset 浏览器可以接受的字符编码集。 Accept-Charset: iso-8859-5 Accept-Encoding 指定浏览器可以支持的web服务器返回内容压缩编码类型。 Accept-Encoding: gzip, deflate Accept-Language 浏览器可接受的语言 Accept-Language: en,zh Accept-Ranges 可以请求网页实体的一个或者多个子范围字段 Accept-Ranges: bytes Authorization HTTP授权的授权证书 Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ== Cache-Control 指定请求和响应遵循的缓存机制 Cache-Control: no-cache Connection 表示是否需要持久连接。（HTTP 1.1默认进行持久连接） Connection: keep-alive Cookie HTTP请求发送时，会把保存在该请求域名下的所有cookie值一起发送给web服务器。 Cookie: admckid=1607301350151121825; Content-Length 请求的内容长度 Content-Length: 348 Content-Type 请求的与实体对应的MIME信息 Content-Type: application/x-www-form-urlencoded Date 请求发送的日期和时间 Date: Tue, 15 Nov 2010 08:12:31 GMT Expect 请求的特定的服务器行为 Expect: 100-continue From 发出请求的用户的Email From: user@email.com Host 指定请求的服务器的域名和端口号 c.xxx.com.cn If-Match 只有请求内容与实体相匹配才有效 If-Match: “737060cd8c284d8af7ad3082f209582d” If-Modified-Since 如果请求的部分在指定时间之后被修改则请求成功，未被修改则返回304代码 If-Modified-Since: Sat, 29 Oct 2010 19:43:31 GMT If-None-Match 如果内容未改变返回304代码，参数为服务器先前发送的Etag，与服务器回应的Etag比较判断是否改变 If-None-Match: “737060cd8c284d8af7ad3082f209582d” If-Range 如果实体未改变，服务器发送客户端丢失的部分，否则发送整个实体。参数也为Etag If-Range: “737060cd8c284d8af7ad3082f209582d” If-Unmodified-Since 只在实体在指定时间之后未被修改才请求成功 If-Unmodified-Since: Sat, 29 Oct 2010 19:43:31 GMT Max-Forwards 限制信息通过代理和网关传送的时间 Max-Forwards: 10 Pragma 用来包含实现特定的指令 Pragma: no-cache Proxy-Authorization 连接到代理的授权证书 Proxy-Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ== Range 只请求实体的一部分，指定范围 Range: bytes=500-999 Referer 先前网页的地址，当前请求网页紧随其后,即来路 Referer: http://www.iqiyi.com/a_19rrhahmi9.html TE 客户端愿意接受的传输编码，并通知服务器接受接受尾加头信息 TE: trailers,deflate;q=0.5 Upgrade 向服务器指定某种传输协议以便服务器进行转换（如果支持） Upgrade: HTTP/2.0, SHTTP/1.3, IRC/6.9, RTA/x11 User-Agent 内容包含发出请求的用户信息 User-Agent: Mozilla/5.0 Via 通知中间网关或代理服务器地址，通信协议 Via: 1.0 fred, 1.1 nowhere.com (Apache/1.1) Warning 关于消息实体的警告信息 Warn: 199 Miscellaneous warning HTTP Responses Header Header 解释 示例 Accept-Ranges 表明服务器是否支持指定范围请求及哪种类型的分段请求 Accept-Ranges: bytes Age 从原始服务器到代理缓存形成的估算时间（以秒计，非负） Age: 12 Allow 对某网络资源的有效的请求行为，不允许则返回405 Allow: GET, HEAD Cache-Control 告诉所有的缓存机制是否可以缓存及哪种类型 Cache-Control: max-age=31536000 Content-Encoding web服务器支持的返回内容压缩编码类型。 Content-Encoding: gzip Content-Language 响应体的语言 Content-Language: en,zh Content-Length 响应体的长度 Content-Length: 348 Content-Location 请求资源可替代的备用的另一地址 Content-Location: /index.htm Content-MD5 返回资源的MD5校验值 Content-MD5: Q2hlY2sgSW50ZWdyaXR5IQ== Content-Range 在整个返回体中本部分的字节位置 Content-Range: bytes 21010-47021/47022 Content-Type 返回内容的MIME类型 Content-Type: application/octet-stream Date 原始服务器消息发出的时间 Mon, 15 Aug 2016 02:43:15 GMT ETag 请求变量的实体标签的当前值 ETag: “737060cd8c284d8af7ad3082f209582d” Expires 响应过期的日期和时间 Expires: Tue, 15 Aug 2017 02:42:58 GMT Last-Modified 请求资源的最后修改时间 Last-Modified: Fri, 29 Jul 2016 16:26:41 GMT Location 用来重定向接收方到非请求URL的位置来完成请求或标识新的资源 Location: http://www.xxx.com/act/RdFHgKt4WyNYv27z.html P3P P3P提供的个人隐私保护策略 P3P: CP=CURa ADMa DEVa PSAo PSDo OUR BUS UNI PUR INT DEM STA PRE COM NAV OTC NOI DSP COR Pragma 包括实现特定的指令，它可应用到响应链上的任何接收方 Pragma: no-cache Proxy-Authenticate 它指出认证方案和可应用到代理的该URL上的参数 Proxy-Authenticate: Basic refresh 应用于重定向或一个新的资源被创造，在5秒之后重定向（由网景提出，被大部分浏览器支持） Refresh: http://www.xxx.com/ Retry-After 如果实体暂时不可取，通知客户端在指定时间之后再次尝试 Retry-After: 120 Server web服务器软件名称 Server: nginx/7ed94dd662ffeb274371f6f0438ac6587fed8d84 Set-Cookie 设置Http Cookie Set-Cookie: UserID=JohnDoe; Max-Age=3600; Version=1 Trailer 指出头域在分块传输编码的尾部存在 Trailer: Max-Forwards Transfer-Encoding 文件传输编码 Transfer-Encoding:chunked Vary 告诉下游代理是使用缓存响应还是从原始服务器请求 Vary: * Via 告知代理客户端响应是通过哪里发送的 Via: 1.0 fred, 1.1 nowhere.com (Apache/1.1) Warning 警告实体可能存在的问题 Warning: 199 Miscellaneous warning WWW-Authenticate 表明客户端请求实体应该使用的授权方案 WWW-Authenticate: Basic]]></content>
      <categories>
        <category>http</category>
      </categories>
      <tags>
        <tag>http</tag>
        <tag>协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MIME类型列表]]></title>
    <url>%2Fhttp%2Fhttp-mime%2F</url>
    <content type="text"><![CDATA[MIME (Multipurpose Internet Mail Extensions) 是描述消息内容类型的因特网标准。MIME 消息能包含文本、图像、音频、视频以及其他应用程序专用的数据。官方的 MIME 信息是由 Internet Engineering Task Force (IETF) 在下面的文档中提供的： RFC-822 Standard for ARPA Internet text messagesRFC-2045 MIME Part 1: Format of Internet Message BodiesRFC-2046 MIME Part 2: Media TypesRFC-2047 MIME Part 3: Header Extensions for Non-ASCII TextRFC-2048 MIME Part 4: Registration ProceduresRFC-2049 MIME Part 5: Conformance Criteria and Examples 不同的应用程序支持不同的 MIME 类型。下面的参考手册是由 Microsoft Internet Information Server version 5 所支持的 MIME 类型列表。 按照内容类型排列的 Mime 类型列表 类型/子类型 扩展名 application/envoy evy application/fractals fif application/futuresplash spl application/hta hta application/internet-property-stream acx application/mac-binhex40 hqx application/msword doc application/msword dot application/octet-stream * application/octet-stream bin application/octet-stream class application/octet-stream dms application/octet-stream exe application/octet-stream lha application/octet-stream lzh application/oda oda application/olescript axs application/pdf pdf application/pics-rules prf application/pkcs10 p10 application/pkix-crl crl application/postscript ai application/postscript eps application/postscript ps application/rtf rtf application/set-payment-initiation setpay application/set-registration-initiation setreg application/vnd.ms-excel xla application/vnd.ms-excel xlc application/vnd.ms-excel xlm application/vnd.ms-excel xls application/vnd.ms-excel xlt application/vnd.ms-excel xlw application/vnd.ms-outlook msg application/vnd.ms-pkicertstore sst application/vnd.ms-pkiseccat cat application/vnd.ms-pkistl stl application/vnd.ms-powerpoint pot application/vnd.ms-powerpoint pps application/vnd.ms-powerpoint ppt application/vnd.ms-project mpp application/vnd.ms-works wcm application/vnd.ms-works wdb application/vnd.ms-works wks application/vnd.ms-works wps application/winhlp hlp application/x-bcpio bcpio application/x-cdf cdf application/x-compress z application/x-compressed tgz application/x-cpio cpio application/x-csh csh application/x-director dcr application/x-director dir application/x-director dxr application/x-dvi dvi application/x-gtar gtar application/x-gzip gz application/x-hdf hdf application/x-internet-signup ins application/x-internet-signup isp application/x-iphone iii application/x-javascript js application/x-latex latex application/x-msaccess mdb application/x-mscardfile crd application/x-msclip clp application/x-msdownload dll application/x-msmediaview m13 application/x-msmediaview m14 application/x-msmediaview mvb application/x-msmetafile wmf application/x-msmoney mny application/x-mspublisher pub application/x-msschedule scd application/x-msterminal trm application/x-mswrite wri application/x-netcdf cdf application/x-netcdf nc application/x-perfmon pma application/x-perfmon pmc application/x-perfmon pml application/x-perfmon pmr application/x-perfmon pmw application/x-pkcs12 p12 application/x-pkcs12 pfx application/x-pkcs7-certificates p7b application/x-pkcs7-certificates spc application/x-pkcs7-certreqresp p7r application/x-pkcs7-mime p7c application/x-pkcs7-mime p7m application/x-pkcs7-signature p7s application/x-sh sh application/x-shar shar application/x-shockwave-flash swf application/x-stuffit sit application/x-sv4cpio sv4cpio application/x-sv4crc sv4crc application/x-tar tar application/x-tcl tcl application/x-tex tex application/x-texinfo texi application/x-texinfo texinfo application/x-troff roff application/x-troff t application/x-troff tr application/x-troff-man man application/x-troff-me me application/x-troff-ms ms application/x-ustar ustar application/x-wais-source src application/x-x509-ca-cert cer application/x-x509-ca-cert crt application/x-x509-ca-cert der application/ynd.ms-pkipko pko application/zip zip audio/basic au audio/basic snd audio/mid mid audio/mid rmi audio/mpeg mp3 audio/x-aiff aif audio/x-aiff aifc audio/x-aiff aiff audio/x-mpegurl m3u audio/x-pn-realaudio ra audio/x-pn-realaudio ram audio/x-wav wav image/bmp bmp image/cis-cod cod image/gif gif image/ief ief image/jpeg jpe image/jpeg jpeg image/jpeg jpg image/pipeg jfif image/svg+xml svg image/tiff tif image/tiff tiff image/x-cmu-raster ras image/x-cmx cmx image/x-icon ico image/x-portable-anymap pnm image/x-portable-bitmap pbm image/x-portable-graymap pgm image/x-portable-pixmap ppm image/x-rgb rgb image/x-xbitmap xbm image/x-xpixmap xpm image/x-xwindowdump xwd message/rfc822 mht message/rfc822 mhtml message/rfc822 nws text/css css text/h323 323 text/html htm text/html html text/html stm text/iuls uls text/plain bas text/plain c text/plain h text/plain txt text/richtext rtx text/scriptlet sct text/tab-separated-values tsv text/webviewhtml htt text/x-component htc text/x-setext etx text/x-vcard vcf video/mpeg mp2 video/mpeg mpa video/mpeg mpe video/mpeg mpeg video/mpeg mpg video/mpeg mpv2 video/quicktime mov video/quicktime qt video/x-la-asf lsf video/x-la-asf lsx video/x-ms-asf asf video/x-ms-asf asr video/x-ms-asf asx video/x-msvideo avi video/x-sgi-movie movie x-world/x-vrml flr x-world/x-vrml vrml x-world/x-vrml wrl x-world/x-vrml wrz x-world/x-vrml xaf x-world/x-vrml xof]]></content>
      <categories>
        <category>http</category>
      </categories>
      <tags>
        <tag>http</tag>
        <tag>协议</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PS命令]]></title>
    <url>%2Flinux%2Flinux-shell-ps%2F</url>
    <content type="text"><![CDATA[要对进程进行监测和控制,首先必须要了解当前进程的情况,也就是需要查看当前进程,而ps命令就是最基本同时也是非常强大的进程查看命令.使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵尸、哪些进程占用了过多的资源等等.总之大部分信息都是可以通过执行该命令得到的. 参数说明12345678-a：显示现行终端机下的所有进程，包括其他用户的进程-A：所有的进程均显示出来，与 -e 具有同样的效用-u：以用户为主的进程状态-f：做一个更为完整的输出-e：等于“-A”x： 通常与 a 这个参数一起使用，可列出较完整信息l： 较长、较详细的将该 PID 的的信息列出j： 工作的格式 (jobs format) PS L字段说明 F ：代表这个程序的旗标 (flag)， 4 代表使用者为 super userS ：代表这个程序的状态 (STAT)，关于各 STAT 的意义将在内文介绍UID ：程序被该 UID 所拥有PID ：就是这个程序的 ID ！PPID ：则是其上级父程序的IDC ：CPU 使用的资源百分比PRI ：这个是 Priority (优先执行序) 的缩写，详细后面介绍NI ：这个是 Nice 值，在下一小节我们会持续介绍ADDR ：这个是 kernel function，指出该程序在内存的那个部分。如果是个 running的程序，一般就是 “-“SZ ：使用掉的内存大小WCHAN ：目前这个程序是否正在运作当中，若为 - 表示正在运作TTY ：登入者的终端机位置TIME ：使用掉的 CPU 时间。CMD ：所下达的指令为何 PS AUX字段说明 USER：该进程属于那个使用者账号的？PID ：该进程的进程ID号。%CPU：该进程使用掉的 CPU 资源百分比；%MEM：该进程所占用的物理内存百分比；VSZ ：该进程使用掉的虚拟内存量 (Kbytes)RSS ：该进程占用的固定的内存量 (Kbytes)TTY ：该进程是在那个终端机上面运作，若与终端机无关，则显示 ?，另外， tty1-tty6 是本机上面的登入者程序，若为 pts/0 等等的，则表示为由网络连接进主机的程序。START：该进程被触发启动的时间；TIME ：该进程实际使用 CPU 运作的时间。COMMAND：该程序的实际指令为什么？ STAT：该程序目前的状态，主要的状态有： R ：该程序目前正在运作，或者是可被运作； S ：该程序目前正在睡眠当中 (可说是 idle 状态啦！)，但可被某些讯号(signal) 唤醒。 T ：该程序目前正在侦测或者是停止了； Z ：该程序应该已经终止，但是其父程序却无法正常的终止他，造成 zombie (疆尸) 程序的状态 示例显示所有进程信息1$ ps -A 显示指定用户信息1$ ps -u root 显示所有进程信息，连同命令行1$ ps -ef ps 与grep 常用组合用法，查找特定进程1$ ps -ef|grep ssh 列出类似程序树的程序显示1$ ps -axjf 找出与 cron 与 syslog 这两个服务有关的 PID 号码1$ ps aux | egrep '(cron|syslog)']]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
        <tag>ps</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WGET命令]]></title>
    <url>%2Flinux%2Flinux-shell-wget%2F</url>
    <content type="text"><![CDATA[wget命令用来从指定的URL下载文件。wget非常稳定，它在带宽很窄的情况下和不稳定网络中有很强的适应性，如果是由于网络的原因下载失败，wget会不断的尝试，直到整个文件下载完毕。如果是服务器打断下载过程，它会再次联到服务器上从停止的地方继续下载。这对从那些限定了链接时间的服务器上下载大文件非常有用。 参数说明12345678910111213141516171819202122-a&lt;日志文件&gt;：在指定的日志文件中记录资料的执行过程；-A&lt;后缀名&gt;：指定要下载文件的后缀名，多个后缀名之间使用逗号进行分隔；-b：进行后台的方式运行wget；-B&lt;连接地址&gt;：设置参考的连接地址的基地地址；-c：继续执行上次终端的任务；-C&lt;标志&gt;：设置服务器数据块功能标志on为激活，off为关闭，默认值为on；-d：调试模式运行指令；-D&lt;域名列表&gt;：设置顺着的域名列表，域名之间用“，”分隔；-e&lt;指令&gt;：作为文件“.wgetrc”中的一部分执行指定的指令；-h：显示指令帮助信息；-i&lt;文件&gt;：从指定文件获取要下载的URL地址；-l&lt;目录列表&gt;：设置顺着的目录列表，多个目录用“，”分隔；-L：仅顺着关联的连接；-r：递归下载方式；-nc：文件存在时，下载文件不覆盖原有文件；-nv：下载时只显示更新和出错信息，不显示指令的详细执行过程；-q：不显示指令执行过程；-nh：不查询主机名称；-v：显示详细执行过程；-V：显示版本信息；--passive-ftp：使用被动模式PASV连接FTP服务器；--follow-ftp：从HTML文件中下载FTP连接文件。 示例下载单个文件 以下的例子是从网络下载一个文件并保存在当前目录，在下载的过程中会显示进度条，包含（下载完成百分比，已经下载的字节，当前下载速度，剩余下载时间）。 1$ wget http://www.xxx.net/xxx.zip 下载并以不同的文件名保存 wget默认会以最后一个符合/的后面的字符来命令，对于动态链接的下载通常文件名会不正确。 1$ wget -O wordpress.zip http://www.xxx.net/xxx.aspx?id=1080 wget限速下载 当你执行wget的时候，它默认会占用全部可能的宽带下载。但是当你准备下载一个大文件，而你还需要下载其它文件时就有必要限速了。 1$ wget --limit-rate=300k http://www.xxx.net/testfile.zip 使用wget断点续传 使用wget -c重新启动下载中断的文件，对于我们下载大文件时突然由于网络等原因中断非常有帮助，我们可以继续接着下载而不是重新下载一个文件。需要继续中断的下载时可以使用-c参数。 1$ wget -c http://www.xxx.net/testfile.zip 使用wget后台下载1$ wget -b http://www.xxx.net/testfile.zip 伪装代理名称下载1$ wget --user-agent="Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.16 (KHTML, like Gecko) Chrome/10.0.648.204 Safari/534.16" http://www.xxx.net/testfile.zip 测试下载链接 当你打算进行定时下载，你应该在预定时间测试下载链接是否有效。我们可以增加–spider参数进行检查。 1$ wget --spider URL 增加重试次数 如果网络有问题或下载一个大文件也有可能失败。wget默认重试20次连接下载文件。如果需要，你可以使用–tries增加重试次数。 1$ wget --tries=40 URL 下载多个文件 首先，保存一份下载链接文件：cat &gt; filelist.txturl1url2url3url4接着使用这个文件和参数-i下载。 1$ wget -i filelist.txt 镜像网站 下载整个网站到本地。–miror开户镜像下载。-p下载所有为了html页面显示正常的文件。–convert-links下载后，转换成本地的链接。-P ./LOCAL保存所有文件和目录到本地指定目录。 1$ wget --mirror -p --convert-links -P ./LOCAL URL 过滤指定格式下载 下载一个网站，但你不希望下载图片，可以使用这条命令。 1$ wget --reject=gif ur 把下载信息存入日志文件 不希望下载信息直接显示在终端而是在一个日志文件，可以使用。 1$ wget -o download.log URL 限制总下载文件大小 当你想要下载的文件超过5M而退出下载，你可以使用。注意：这个参数对单个文件下载不起作用，只能递归下载时才有效。 1$ wget -Q5m -i filelist.txt 下载指定格式文件 可以在以下情况使用该功能：下载一个网站的所有图片。下载一个网站的所有视频。下载一个网站的所有PDF文件。 1$ wget -r -A.pdf url FTP下载12$ wget ftp-url$ wget --ftp-user=USERNAME --ftp-password=PASSWORD url Https下载1$ wget -r -np -nd --accept=gz --no-check-certificate https://www.xxx.com/dir/ --http-user=username --http-password=password]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
        <tag>wget</tag>
      </tags>
  </entry>
</search>
